webpackJsonp([3],{K3e8:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("bvGF"),r={name:"requireSearth",mounted:function(){this.requireSearch()},data:function(){return{name:"",taskStatus:{value:"",list:[{value:"新建",label:"新建"},{value:"正在运行",label:"正在运行"},{value:"暂停运行",label:"暂停运行"},{value:"运行成功",label:"运行成功"},{value:"运行失败",label:"运行失败"}]},tableData:[],allPage:1,currentPage:1,pageSize:10}},methods:{requireSearch:function(){var e=this;Object(l.g)(this.currentPage,this.pageSize,this.name,this.taskStatus.value).then(function(t){e.tableData=t.data.list,e.allPage=t.data.total})},tabPage:function(e){this.currentPage=e,this.requireSearch()},keepRun:function(e){var t=this;Object(l.h)(e.id).then(function(){t.requireSearch(),t.$message.success({message:"继续运行成功",showClose:!0})})},pauseRun:function(e){var t=this;Object(l.i)(e.id).then(function(){t.requireSearch(),t.$message.success({message:"暂停运行成功",showClose:!0})})}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"require-search-wrap"},[a("div",{staticClass:"require-search-main"},[e._m(0),e._v(" "),a("label",[e._v("名称")]),e._v(" "),a("el-input",{staticStyle:{width:"193px","margin-bottom":"10px"},attrs:{clearable:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("label",[e._v("任务状态")]),e._v(" "),a("el-select",{staticStyle:{width:"193px"},attrs:{placeholder:"请选择",clearable:""},on:{clear:function(t){e.taskStatus.value=""}},model:{value:e.taskStatus.value,callback:function(t){e.$set(e.taskStatus,"value",t)},expression:"taskStatus.value"}},e._l(e.taskStatus.list,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),a("el-button",{staticStyle:{padding:"10px 35px",margin:"10px 20px"},attrs:{type:"primary"},on:{click:function(t){return e.requireSearch()}}},[e._v("查询")]),e._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"25px","border-left":"1px solid #e5e4e4"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"name",label:"任务名称",width:"260"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sourceType",label:"数据源类型",width:"130",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.sourceType?a("p",[e._v("HBase")]):e._e(),e._v(" "),2===t.row.sourceType?a("p",[e._v("MBTiles")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"层级范围",width:"130",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(t.row.layerMin)+" - "+e._s(t.row.layerMax))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"区域范围",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(t.row.lonBegin)+" , "+e._s(t.row.latBegin)+" , "+e._s(t.row.lonEnd)+" , "+e._s(t.row.latEnd))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"任务状态",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"progress",label:"任务进度",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-progress",{attrs:{percentage:e.row.progress}})]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",plain:"",size:"small",disabled:!("暂停运行"===t.row.status)},on:{click:function(a){return e.keepRun(t.row)}}},[e._v("继续运行")]),e._v(" "),a("el-button",{attrs:{type:"primary",plain:"",size:"small",disabled:!("正在运行"===t.row.status||"继续运行"===t.row.status)},on:{click:function(a){return e.pauseRun(t.row)}}},[e._v("暂停运行")])]}}])})],1)],1),e._v(" "),a("el-pagination",{staticStyle:{"text-align":"center",padding:"25px 0px"},attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,total:e.allPage},on:{"current-change":e.tabPage}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"require-search-title"},[t("i",{staticClass:"el-icon-search"}),this._v(" "),t("span",[this._v("查询条件")])])}]};var n=a("C7Lr")(r,s,!1,function(e){a("RYRf")},"data-v-6efd60f2",null);t.default=n.exports},RYRf:function(e,t){}});